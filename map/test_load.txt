width: 24
height: 8
switches:
  - x: 0
    y: 7
    switch_on:
      - action: open-gate
        x: 6
        y: 1
      - action: disable
  - x: 8
    y: 6
    state: on
    switch_off:
      - action: open-gate
        x: 14
        y: 2
      - action: close-gate
        x: 18
        y: 5
    # when we turn it back on, we do the opposite
    switch_on:
      - action: close-gate
        x: 14
        y: 2
      - action: open-gate
        x: 18
        y: 5
gates:
  - x: 18
    y: 5
    state: open # this gate is open when the game starts
  # the other gates start closed
portals:
  - x: 12
    y: 4
    size: very_small
---
^S    x ↑  =      x
--    £ ^→ -      x→
      x----=      |
   ---x     p 8   =
o x   x   -----   =
---   x   x   |  x=
      | oxx * x  x=  E
========================
---